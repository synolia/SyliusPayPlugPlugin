!function(){var e={options:{trigger:".payment-method-choice",completeInfo:{modal:".oney-complete-info-popin",area:".ui.steps + .ui.grid"}},init:function(t){void 0===t&&(t=this.options),this.options=$.extend(!0,{},t),e.toggleGateway(),"undefined"!=typeof completeInfoRoute&&e.modalAppear(),e.tabs(),$(window).on("resize",(function(){setTimeout(e.tabs,100)})),e.tabsHandler()},toggleGateway:function(){var e=$(this.options.trigger).data("payment-input-id");$("#".concat(e,":checked")).length&&$('.payment-method-choice[data-payment-input-id="'.concat(e,'"]')).show(),$("input[id*=sylius_checkout_select_payment]").on("change",(function(e){var t=$(e.currentTarget).attr("id");$(".payment-method-choice").slideUp(),$('.payment-method-choice[data-payment-input-id="'.concat(t,'"]')).slideDown()}))},tabs:function(){window.innerWidth<=991?($(".oney-payment-choice__item").hide(),setTimeout((function(){$.each($(".oney-payment-choice__input"),(function(e,t){$(t).is(":checked")&&($(t).parent().show(),$("a.tablink[data-id=".concat($(t).val(),"]")).addClass("active"))}))}),1)):($(".oney-payment-choice__item").show(),$("a.tablink").removeClass("active"))},tabsHandler:function(){$.each($("a.tablink"),(function(e,t){$(t).click((function(e){$("a.tablink").removeClass("active"),$(this).addClass("active"),$(".oney-payment-choice__item").hide(),$("#".concat($(this).data("id"))).show(),$("input[value=".concat($(this).data("id"))).prop("checked",!0)}))}))},modalAppear:function(){var e=this,t=completeInfoRoute;$.get(t).then((function(t){$("body .pusher").append("<div class='overlay'></div>"),$(e.options.completeInfo.area).addClass("inactive"),$(e.options.completeInfo.area).parent().append(t),e.modalEvents()}))},modalFadeaway:function(){var e=this;$(this.options.completeInfo.modal).fadeOut(300,(function(){$(e.options.completeInfo.area).removeClass("inactive"),$(".overlay").hide()}))},modalSubmit:function(e){var t=this;e.preventDefault(),$(e.currentTarget).addClass("loading"),$.ajax({method:"post",url:completeInfoRoute,data:$(e.currentTarget).serialize(),success:function(e){Array.isArray(e)?($("".concat(t.options.completeInfo.modal,"__content")).fadeOut((function(){$("".concat(t.options.completeInfo.modal,"__success")).show()})),setTimeout((function(){t.modalFadeaway()}),2500)):$(t.options.completeInfo.modal).html(e),t.modalEvents()},error:function(e){console.log(e)}})},modalEvents:function(){var e=this;$(".close").on("click",(function(){e.modalFadeaway()})),$("form[name=form]").on("submit",(function(t){e.modalSubmit(t)}))}};document.addEventListener("DOMContentLoaded",(function(t){e.init(),$('form[name="sylius_checkout_select_payment"] button[type="submit"]').on("click",(function(e){$(".checkbox-oney :radio:checked").length?$(".checkbox-payplug").closest(".payment-item").find(".payment-choice__input:checked").prop("checked",!1):$(".checkbox-payplug :radio:checked").length&&$(".checkbox-oney").closest(".payment-item").find(".payment-choice__input:checked").prop("checked",!1),$("input#payplug_choice_card_other").attr("disabled",!0),$('form[name="sylius_checkout_select_payment"]').submit()}))}),!1)}();